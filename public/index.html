<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<title>Sanasto</title>
<style>
body{font-family:Arial;margin:20px}
#list div{cursor:pointer;padding:4px}
#list div:hover{background:#eee}
</style>
</head>
<body>
<h1 id="title">Sanasto</h1>
<input id="search" placeholder="Haku">
<div id="list"></div>
<hr>
<div id="view">Valitse k√§site</div>

<script>
let concepts=[];
let map={};

fetch("sanasto.jsonld")
.then(r=>r.json())
.then(data=>{
  document.getElementById("title").textContent=data["skos:prefLabel"][0]["@value"];
  concepts=data["@graph"];
  concepts.forEach((c,i)=>map[c["@id"]]=i);
  renderList();
});

document.getElementById("search").addEventListener("input",renderList);

function label(c){
  return (c["skos:prefLabel"]||[{}])[0]["@value"];
}

function renderList(){
  const q=document.getElementById("search").value.toLowerCase();
  const el=document.getElementById("list");
  el.innerHTML=concepts
    .filter(c=>label(c).toLowerCase().includes(q))
    .map(c=>`<div onclick="show('${c["@id"]}')">${label(c)}</div>`)
    .join("");
}

function show(id){
  const c=concepts[map[id]];
  const term=label(c);
  const def=(c["skos:definition"]||[{}])[0]["@value"]||"";
  document.getElementById("view").innerHTML=`<h2>${term}</h2><p>${def}</p><small>${id}</small>`;
}
</script>
</body>
</html>
